!function(){let e=null,t=[];function n({tabsList:t}){const n=document.querySelector(".tab-list");t.forEach((a,d)=>{const o=document.createDocumentFragment();if(a.tabs.forEach(e=>{o.appendChild(function({tab:e}){const t=e.active?"active":"",n=e.audible?"":"hidden";let a="display: none",d="display:none";e.audible&&(a=e.mutedInfo.muted?"display:none":"display:block",d=e.mutedInfo.muted?"display:block":"display:none");const o=document.createElement("div");o.className=`tab-row ${t}`,o.dataset.tabId=e.id,o.dataset.windowId=e.windowId;const c=document.createElement("div");c.className="favicon";const s=document.createElement("img");s.src=e.favIconUrl,c.appendChild(s),o.appendChild(c);const i=document.createElement("div");i.className="tab-title";const l=document.createElement("span");l.className=`speaker ${n}`;const r=document.createElement("img");r.src="../images/icons8-Speaker-16.png",r.alt="tab is playing",r.dataset.type="speaker",r.style=a,l.append(r);const u=document.createElement("img");u.src="../images/icons8-No Audio-16.png",u.alt="tab is muted",u.dataset.type="speaker",u.style=d,l.append(r),l.append(u),i.appendChild(l);const m=document.createElement("span");m.className="tab-desc",m.innerText=e.title,i.appendChild(m),o.appendChild(i);const p=document.createElement("div");p.className="close-button",p.dataset.type="closeButton";const b=document.createElement("img");return b.src="./images/svg/times-circle.svg",b.dataset.type="closeButton",p.appendChild(b),o.appendChild(p),o}({tab:e}))}),t.length>1&&a.tabs.length>0){const t=function({chromeWindow:t,tabRowFragment:n,windowIndex:a}){const d=document.createElement("div");d.className="group";const o=document.createElement("div");o.className="group-title",e=t.tabs.length>0?t.tabs[0].windowId:a,o.innerText=`window ${a}`,d.className="group",d.dataset.groupId=e,t.tabs.length>0&&d.appendChild(o);return d.appendChild(n),d}({chromeWindow:a,tabRowFragment:o,windowIndex:d+1});n.appendChild(t)}else n.appendChild(o)})}function a(){document.querySelector(".filterBox").value="",document.querySelector(".tab-list").innerHTML="",n({tabsList:t})}function d(e){const{tabId:t,windowId:n}=function(e){let t=e.target,n=t.tagName.toLowerCase();for(;"div"!==n||"div"===n&&!t.classList.contains("tab-row");)t=t.parentNode,n=t.tagName.toLowerCase();return{tabId:parseInt(t.dataset.tabId),windowId:parseInt(t.dataset.windowId)}}(e),a=e.target.tagName.toLowerCase(),d=e.target.dataset.type;"img"!==a||"speaker"!==d?"img"!==a&&"div"!==a||"closeButton"!==d?function({tabId:e,windowId:t}){chrome.windows.update(t,{focused:!0},function(){selectedWindowId=t}),chrome.tabs.update(e,{active:!0})}({tabId:t,windowId:n}):(function(e){const t=[...document.querySelectorAll(".tab-row")].find(t=>parseInt(t.dataset.tabId)===parseInt(e)),n=t.parentElement;if(n){n.removeChild(t);const e=[...n.children],a=e.some(e=>e.classList.contains("tab-row"));a||document.querySelector(".tab-list").removeChild(n)}else document.querySelector(".tab-list").removeChild(t)}(t),function(e){chrome.tabs.remove(e)}(t)):function(e){chrome.tabs.get(e,function(t){const n=!t.mutedInfo.muted;chrome.tabs.update(e,{muted:n}),function(e,t){const n=[...document.querySelectorAll(".tab-row")].find(t=>parseInt(t.dataset.tabId)===parseInt(e)).children[1];t?(n.children[0].children[0].style.display="none",n.children[0].children[1].style.display="block"):(n.children[0].children[0].style.display="block",n.children[0].children[1].style.display="none")}(e,n)})}(t)}function o(e){const a=e.target.value,d=t.map(e=>{const t=e.tabs.filter(e=>e.title.indexOf(a)>-1||e.url.indexOf(a)>-1);return Object.assign({},e,{tabs:t})});var o;o=d,document.querySelector(".tab-list").innerHTML="",n({tabsList:o})}async function c(){document.querySelector(".tab-list").addEventListener("click",d),document.querySelector(".filterBox").addEventListener("keyup",o),document.querySelector(".remove-filter").addEventListener("click",a),await new Promise((e,n)=>{chrome.windows.getAll({populate:!0},n=>{t=[...n],e()})}),n({tabsList:t})}document.addEventListener("DOMContentLoaded",function(){c()}),document.addEventListener("unload",function(){document.querySelector(".tab-list").addEventListener("click",d),document.querySelector(".filterBox").addEventListener("keyup",o),document.querySelector(".remove-filter").addEventListener("click",a)})}();